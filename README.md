# push_swap

42Tokyoの課題として作成されたソートアルゴリズムプロジェクト。2つのスタックを用いて整数リストを最小の操作数で昇順にソートします。

## 概要

push_swapは与えられた整数のリストを、2つのスタック（スタックAとスタックB）を使用して効率的にソートするプログラムです。使用できる操作は限定されており、可能な限り少ない操作数でのソートを目指します。

## 機能

- 引数として与えられた整数リストのソート
- 2つのスタック構造を利用した効率的なソートアルゴリズム
- クイックソート（2つのピボット）を基にした最適化アルゴリズム
- 小さなサイズ（5以下）の場合の単純なソートアルゴリズム
- 重複値や無効な引数の検証

## 使用可能な操作

- `sa` - スタックAの上位2つの要素を交換
- `sb` - スタックBの上位2つの要素を交換
- `ss` - saとsbを同時実行
- `pa` - スタックBの最上位要素をスタックAの最上位に移動
- `pb` - スタックAの最上位要素をスタックBの最上位に移動
- `ra` - スタックAを上方向に回転（最上位要素が最下位に移動）
- `rb` - スタックBを上方向に回転
- `rr` - raとrbを同時実行
- `rra` - スタックAを下方向に回転（最下位要素が最上位に移動）
- `rrb` - スタックBを下方向に回転
- `rrr` - rraとrrbを同時実行

## ビルド方法

```bash
make
```

## 使用方法

```bash
./push_swap [整数のリスト]
```

### 例

```bash
# 基本的な使用例
./push_swap 3 1 4 1 5 9 2 6

# クォートを使用した場合
./push_swap "3 1 4 1 5 9 2 6"

# 負の数を含む場合
./push_swap -5 -2 0 3 7
```

## アルゴリズム

このプログラムでは以下のアルゴリズムを実装しています：

1. **小さなサイズ（≤5）**: 単純なソートアルゴリズム（`simple_sort`）
2. **大きなサイズ（>5）**: 2つのピボットを使用したクイックソート（`quick_sort_2pivots`）

### アルゴリズムの特徴

- グループ化による効率的な要素管理
- インデックスベースの比較によるソート最適化
- 再帰的なソート処理による複雑なケースへの対応

## ファイル構成

```
.
├── Makefile                    # ビルド設定
├── push_swap.c                 # メイン関数とコア機能
├── push_swap.h                 # ヘッダファイル
├── init.c                      # スタック初期化
├── list.c                      # リスト操作関数
├── validate.c                  # 入力検証
├── utils.c                     # ユーティリティ関数
├── search.c                    # 検索関数
├── simple_sort.c               # 小さなサイズ用ソート
├── quick_sort.c                # クイックソートアルゴリズム
├── quick_sort_2pivots.c        # 2ピボットクイックソート
├── sort_helper.c               # ソート補助関数
├── sort_stack_b.c              # スタックB用ソート
├── operation/                  # 操作関数群
│   ├── operat_push.c          # プッシュ操作
│   ├── operat_swap.c          # スワップ操作
│   ├── operat_rotate.c        # 回転操作
│   └── operat_reverse_rotate.c # 逆回転操作
└── libft/                      # ライブラリ関数
```

## エラーハンドリング

以下の場合にエラーメッセージ "Error" を出力して終了します：

- 重複した数値が含まれている場合
- 数値以外の文字が含まれている場合
- 引数が与えられていない場合
- 整数の範囲を超えた値が与えられた場合

## クリーンアップ

```bash
# オブジェクトファイルの削除
make clean

# 実行ファイルとオブジェクトファイルの削除
make fclean

# 再ビルド
make re
```
